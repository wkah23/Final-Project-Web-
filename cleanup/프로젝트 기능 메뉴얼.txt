세탁소 의뢰 배달 웹 기능 메뉴얼

1. 스프링을 실행하면 기본 /(루트)는 [로그인창]으로 지정 

▶ [로그인 저장] 체크하면 쿠키에 로그인 정보가 저장되어 편리하게 로그인 가능
▶ [카카오, 네이버, 구글 로그인 API]를 활용하여 SNS 로그인 구현

★ [아이디 찾기]: SMTP를 통해 이메일이 일치한다면 가입한 아이디 목록을 메일로 전송해줌 
★ [비밀번호 찾기]: 가입한 이메일이 일치하면 인증번호를 랜덤으로 보내서 일치하면 새로운 비밀번호로 변경가능
ㄴ휴대폰으로 찾기하면 문자는 유료라서 콘솔창에 인증번호가 나오며 일치하면 새로운 비밀번호 변경 가능

※ 우측 하단: 클린업 고객센터 서비스 API
ㄴ실시간 문의 및 전화 상담도 가능

2. 회원가입 신청
▶ 오라클DB와 연동되어 [아이디, 비밀번호, 재입력, 이메일, 닉네임, 휴대폰번호]로 가입 가능
▶ 오라클DB 안에서 [아이디 또는 닉네임]이 일치한다면 가입 불가
▶ 가입된 아이디는 오라클 DB에 [암호화]하여 저장

3. 로그인에 성공하면 기본으로 [내 정보]로 이동
▶ 자주 이용하는 세탁소 : 세탁소마다 자주 이용하는 세탁소를 [단골]로 지정할 수 있음
▶ 의뢰 내역서 : 자신이 지금까지 이용한 [의뢰 내역]과 [후기 작성] 및 [자세한 영수증]을 확인할 수 있음(페이징 처리 되어 있음)
▶ 이용 후기 : 세탁소별 이용 후기를 한 눈에 볼 수 있음 
그 내용은 [작성 날짜]와 [후기 수정], [후기 삭제]와 [세탁소 운영자의 답변]도 한 눈에 볼 수 있음
▶ 포인트 : 세탁소를 이용하면 1%의 포인트가 지급되는데 현금처럼 사용할 수 있는 포인트, [포인트 적립 및 사용 내역]을 볼 수 있음
▶ 내 아이디 클릭 : [내 정보 수정] 으로 이동, [비밀번호 변경], [닉네임 변경], [휴대폰 번호 변경]을 할 수 있음
휴대폰번호 번경은 역시 문자는 유료이기에 콘솔로 뜨게 됨

4. TAB(주소 검색) - [카카오 주소 API] 사용 
오라클DB의 [우편번호]를 참조하여 검색 결과가 조회가 됨
[우편번호의 앞 3자리]가 같으면 [같은 구]로 인식하여 하나의 리스트로 나열되어 조회가 됨

※ 관리자 페이지 또는 오라클 DB를 통해 세탁소 영업시간을 설정할 수 있으며 영업시간에 벗어나면
검은색 화면으로 '영업 시간 종료' 창이 뒤덮으며 이용할 수 없음 

5. TAB(이름 검색) - 주소는 기본적으로 [쿠키]에 저장을 하게 됨
오라클DB에 저장된 [세탁소 이름]으로 검색을 하며
예를 들어 '미영세탁소'라면 '미'만 입력해도 미영세탁소가 리스트로 나옴

▶ 전체 삭제: 최근 키워드는 총 5개로 쌓이게 되며 전체 삭제를 누르면 최근에 검색한 키워드가 모두 사라짐 
▶ 부분 키워드 삭제: 키워드 옆에 X를 눌러 부분적으로 키워드를 삭제할 수 있음
▶ 선택 키워드 조회: 키워드 단어를 누르면 그 키워드로 검색을 하게 함

6. TAB(단골) - 세탁소마다 단골로 등록한 리스트가 보여짐([자주 이용하는 세탁소] 메뉴와 같음)

7. TAB(내역) - 의뢰 내역서와 같음

8. TAB(계정) - 내 정보 메인과 같음

9. [세탁소 상세페이지]
※ 세탁소를 클릭하면 맨 위부터 단골등록할 수 있는 아이콘, 이용후기, 세탁소 운영자의 답변수, 
의뢰할 때 필요한 기본의뢰금액, 
예상 세탁완료일 설정, 할인 이벤트까지 세탁소마다 관리자가 디테일하게 설정이 가능

메뉴는 [세탁, 정보, 후기] 탭이 있음
▶ 세탁탭: 관리자가 지정한 서비스를 선택하여 옵션 및 수량을 통해 의뢰를 신청할 수 있음
의뢰 신청은 세탁바구니에 담기게 되며 세탁바구니에서 별도로 세탁 서비스를 빼고 넣을 수 있음

▶ 정보탭: 오라클DB에 저장되어 있는 정보가 보여지며 [세탁소의 위치]와 [내가 선택한 주소]가 지도에
마킹되어 보여지게 되며
위치와 세탁소 소개, 정보, 그리고 통계까지 한 눈에 볼 수 있음

▶ 후기탭: 최고 좋음 보통 별로 최악 5단계로 평점을 줄 수 있으며 
평점을 주신 고객님의 모든 평점의 평균치를 내어 메인에 반영
사진첨부도 가능하며 평점 그리고 후기를 쓸 수 있고 세탁 운영 관리자는 그 후기를 보고 답글 또한 달 수 있음.

※ 보안: 후기에 <스크립트> 실행문을 넣으면 그 스크립트가 실행되어버리는 취약점을 발견
네이버에서 제공하는 Lucy Xss filter 서비스를 통해 코드가 실행되지 않도록 방어

10. [세탁 의뢰 페이지]
1. 세탁 메뉴에서 세탁바구니에 서비스를 담아 의뢰하기를 누르면 [세탁 의뢰서 페이지]로 이동
2. 내가 담은 [세탁 서비스]와 [나의 상세주소]와 [전화번호], [요청사항] 등을 입력할 수 있음
3. 결제수단은 [신용카드]와 [현금결제]로 나누어지며 신용카드로 결제할시 [이니시스와 연동]하여 결제 시스템 구현
4. 현금결제는 이 과정이 무시되고 [의뢰 대기중 상태]로 넘어가게 됨
5. 기존에 이용을 한 적 있다면 [포인트]가 있으며 포인트를 사용하면 자동으로 포인트가 계산되어 차감됨
6. 의뢰를 하게 되면 [내 세탁 의뢰내역]에 [의뢰 대기중]으로 뜨며 세탁소 관리자가 승인을 해야 의뢰 진행중으로 
세탁 의뢰를 진행할 수 있음.

11. [세탁 관리자 기능]
▶ 오라클 db의 ROLE 테이블을 통해 관리자 또는 회원을 구분함
▶ 관리자로 지정된다면 우측 상단에 3개의 줄 메뉴 항목이 생김
▶ 내 정보와 내 세탁소 관리로 나누어지며, 내 세탁소 관리는 오라클DB를 통해 
[세탁소 ID]와 [내 ID]를 조인해서 등록해주면 [내 소유의 세탁소]로 지정할 수 있음
▶ 관리자가 된다면 세탁소 상세 페이지에서 [세탁소 정보 수정], [서비스 추가], [서비스 삭제]를 상세페이지 내에서 할 수 있음

세탁소 정보수정 : 세탁소 이름, 주소, 전화번호, 영업시간, 기본의뢰금액, 할인특별이벤트, 세탁소 평균 배송일정, 세탁소 정보, 이미지 첨부를
할 수 있음

서비스 추가: (큰틀) 서비스 이름, 배달비, 상세 서비스 옵션, 서비스 소개(설명), 서비스 이미지를 첨부할 수 있음

서비스 삭제: 세탁 서비스를 선택후 이 버튼을 클릭하면 서비스를 제거할 수 있음 


또한 우측 상단 탭을 통해  [ 내 세탁소 관리, 의뢰 접수, 매출확인, 내정보 ] 사용할 수 있음


12. [의뢰 접수 항목]
▶ 고객으로부터 들어온 의뢰를 확인할 수 있으며 [대기 버튼]을 눌러서
의뢰 거부할지, 의뢰를 받을지 선택할 수 있음
※ 의뢰 거부하면 사유선택과 함께 고객님께 전달되며 자동으로 취소되나 
위로금으로 소정의 포인트가 지급됨

※ 의뢰를 받는다면, 세탁의뢰를 진행해야 하며 배송일정이 대략 얼마나 걸릴지 
2시간, 4시간, 6시간, 1일, 2일, 3일 단위로 먼저 고객님께 알릴 수 있도록 선택을 해야함

▶ 모든 선택이 완료되면 [의뢰 진행중] 항목으로 의뢰 내역이 넘어가며, 
▶ 세탁물 세탁이 끝나고 고객님 댁에 배달이 완료되었다면 완료를 눌러주면 의뢰가 종료됨
( 고객의 내역에도 상태를 실시간으로 확인할 수 있음, 이를 통해 후기 쓰기도 가능 )

13. 매출 확인
▶ 오늘 매출, 연매출, 달매출 , 이번주 매출을 선택하여 목록을 확인할 수 있음
▶ 오늘 매출의 상세보기를 누르면 [서비스], [수량], [비용 발생] 내역을 자세히 볼 수 있음
▶ 그래프 막대기를 누르면 무슨 항목으로 몇개, 얼마의 매출이 발생했는지 역시 확인이 가능함


